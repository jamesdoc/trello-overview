

{% macro card(card) %}

{% set memberFilter %}filter === '' {% for member in card.members %}|| filter == '{{ member.id }}'{% endfor %}{% endset %}

<a
  href="{{ card.url }}"
  target="_blank"
  rel="noopener"
  class="block mb-2 bg-background-light hover:bg-background border-b rounded p-2"
  x-show.transition="{{ memberFilter }}">
  
  <h2 class="text-darker">
    {{ card.name }}
  </h2>

  <div class="flex items-center justify-between">
    <ul>
      <li class="inline text-xs text-background-dark">{{ card.board.name }}</li>

      {% if card.dueDate %}
      <li class="inline text-xs text-background-dark"><date>{{ card.dueDate | shortDate }}</date></li>
      {% endif %}
    </ul>

    
    {% if card.members %}
    <div class="flex justify-end">
      {% for member in card.members %}
        <img class="rounded-full w-8 h-8 ml-1" src="{{ member.avatar }}" alt="{{ member.fullName }}" />
      {% endfor %}
    </div>
    {% endif %}
  </div>

</a>
{% endmacro %}
